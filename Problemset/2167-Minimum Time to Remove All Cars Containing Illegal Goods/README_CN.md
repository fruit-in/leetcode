# 2167. 移除所有载有违禁货物车厢所需的最少时间
给你一个下标从 **0** 开始的二进制字符串 `s` ，表示一个列车车厢序列。`s[i] = '0'` 表示第 `i` 节车厢 不 含违禁货物，而 `s[i] = '1'` 表示第 `i` 节车厢含违禁货物。

作为列车长，你需要清理掉所有载有违禁货物的车厢。你可以不限次数执行下述三种操作中的任意一个：

1. 从列车 **左** 端移除一节车厢（即移除 `s[0]`），用去 1 单位时间。
2. 从列车 **右** 端移除一节车厢（即移除 `s[s.length - 1]`），用去 1 单位时间。
3. 从列车车厢序列的 **任意位置** 移除一节车厢，用去 2 单位时间。

返回移除所有载有违禁货物车厢所需要的 **最少** 单位时间数。

注意，空的列车车厢序列视为没有车厢含违禁货物。

#### 示例 1:
<pre>
<strong>输入:</strong> s = "1100101"
<strong>输出:</strong> 5
<strong>解释:</strong>
一种从序列中移除所有载有违禁货物的车厢的方法是：
- 从左端移除一节车厢 2 次。所用时间是 2 * 1 = 2 。
- 从右端移除一节车厢 1 次。所用时间是 1 。
- 移除序列中间位置载有违禁货物的车厢。所用时间是 2 。
总时间是 2 + 1 + 2 = 5 。

一种替代方法是：
- 从左端移除一节车厢 2 次。所用时间是 2 * 1 = 2 。
- 从右端移除一节车厢 3 次。所用时间是 3 * 1 = 3 。
总时间也是 2 + 3 = 5 。

5 是移除所有载有违禁货物的车厢所需要的最少单位时间数。
没有其他方法能够用更少的时间移除这些车厢。
</pre>

#### 示例 2:
<pre>
<strong>输入:</strong> s = "0010"
<strong>输出:</strong> 2
<strong>解释:</strong>
一种从序列中移除所有载有违禁货物的车厢的方法是：
- 从左端移除一节车厢 3 次。所用时间是 3 * 1 = 3 。
总时间是 3.

另一种从序列中移除所有载有违禁货物的车厢的方法是：
- 移除序列中间位置载有违禁货物的车厢。所用时间是 2 。
总时间是 2.

另一种从序列中移除所有载有违禁货物的车厢的方法是：
- 从右端移除一节车厢 2 次。所用时间是 2 * 1 = 2 。
总时间是 2.

2 是移除所有载有违禁货物的车厢所需要的最少单位时间数。
没有其他方法能够用更少的时间移除这些车厢。
</pre>

#### 提示:
* <code>1 <= s.length <= 2 * 10<sup>5</sup></code>
* `s[i]` 为 `'0'` 或 `'1'`

## 题解 (Rust)

### 1. 题解
```Rust
impl Solution {
    pub fn minimum_time(s: String) -> i32 {
        let s = s.as_bytes();
        let mut count = 0;
        let mut x = 1;
        let mut indices_r = vec![];
        let mut ret = i32::MAX;

        for i in (0..s.len()).rev() {
            if s[i] == b'1' {
                indices_r.push(i);
            }
        }

        if indices_r.is_empty() {
            return 0;
        }

        for i in 0..s.len() {
            if s[i] == b'1' {
                indices_r.pop();
            }
            count += (s[i] - b'0') as i32;
            x = x.min(i as i32 - 2 * count + 2);
            ret = ret
                .min(2 * count - 1 + x + (s.len() - indices_r.last().unwrap_or(&s.len())) as i32);
        }

        ret
    }
}
```
